<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>


    <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
    <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>


</body>
<script>
    var t = 0;
    var ip = returnCitySN["cip"];

    var captcha1 = new TencentCaptcha('2068153202', function (res) {
        if (res.ret === 0) {
            var tic = res.ticket;  // 票据
            var ran = res.randstr;

            var url = "https://ssl.captcha.qq.com/ticket/verify?aid=2068153202&AppSecretKey=0wQWpsUEhJQBzbYqVkEgbBA**&Ticket=" + tic + "&Randstr=" + ran + "&UserIP=" + ip;
            var xhr = new XMLHttpRequest();//第一步：新建对象
            xhr.open('GET', url, true);//第二步：打开连接  将请求参数写在url中 
            xhr.send();//第三步：发送请求  将请求参数写在URL中
            /**
             * 获取数据后的处理程序
             */
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var res = xhr.responseText;//获取到json字符串，解析
                    alert(res);
                }
            };
        }
    });
    captcha1.show(); // 显示验证码
</script>

</html>